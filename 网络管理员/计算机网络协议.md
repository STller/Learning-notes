## 网络地址的分配



![截屏2021-03-29 上午8.27.47](/Users/stller/Desktop/截屏2021-03-29 上午8.27.47.png)

## 网络空间层划分

![截屏2021-03-24 下午10.31.26](/Users/stller/Library/Application Support/typora-user-images/截屏2021-03-24 下午10.33.37.png)

![截屏2021-03-24 下午10.33.54](/Users/stller/Library/Application Support/typora-user-images/截屏2021-03-24 下午10.33.54.png)

## IP地址

32位标识符，由互联网名字和数字分配机构

## IP地址的编制方法

1. 分类的IP地址（最基本的编制方法）
2. 子网划分
3. 构成超网（无分类编制方法）

## IP地址段

ABCDE类

## IP地址特点

IP地址是一种分等级的地址结构

1. IP地址管理机构只分配网络号
2. 路由器只根据目的主机所连接的网络号来转发分组，可以减少路由表所占空间

用转发器或网桥连接起来的若干个局域网仍为一个网络，因此这些局域网具有同一个网络号，net-id，所有分配到网络号的，无论是范围很小的局域网还是范围很大的广域网，都是平等的

## IP地址与硬件地址

硬件地址：数据链路层和物理层（MAC地址，6组16进制数）

IP地址：网络层和以上各层使用的逻辑地址，由软件设定

![截屏2021-03-26 上午8.12.28](/Users/stller/Library/Application Support/typora-user-images/截屏2021-03-26 上午8.12.28.png)

## 地址解析协议：ARP

已知一个机器的IP地址，找到该机器的硬件地址

不管网络层使用什么协议，在实际网络的链路层上传送数据时，最终还是使用硬件地址

每一个主机都有ARP cache，里面有所在局域网上的各主机和路由器的IP地址到硬件地址的映射表

## 子网掩码

是一个网络或子网的重要属性

路由器和相邻路由器交换路由信息时，必须把自己所在网络或子网的子网掩码告诉相邻路由器

路由器中的路由表中的每一个项目，除了要给出目的网络地址外，还必须同时给出该网络的子网掩码

若一个路由器连接在两个子网上就同时拥有两个网络地址和子网掩码

## 子网掩码划分

固定子网：划分的所有子网的子网掩码是相同的

变长：

随着CIDR的广泛使用，全0全1子网号支持使用了，但谨慎使用

子网划分的越细，浪费的地址越多

## 最长前缀匹配（最佳匹配）

在查找路由表时可能会得到多个匹配结果，应当从匹配结果中选择有最长网络前缀的路由

## ICMP（网际控制报文协议）

允许主机或路由器报告差错情况和提供有关异常情况的报告

## 电子邮件

SMTP：控制邮件的中转方式，TCP，端口号25

POP：从邮件服务器中检索邮件，TCP，端口号110

IMAP：类似POP，优于POP，TCP，端口143

MIME：不只ASCII，图像、声音、视频

## FTP（文件传输协议）

TCP，21端口用于连接，20端口用于传输数据

## HTTPS（端口443）、HTTP（端口80）

