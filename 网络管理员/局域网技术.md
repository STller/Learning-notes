## 跨距问题

10M以太网最大跨距为5000m左右，100M以太网最大跨距为412m左右

## 802.3

CSMA/CD：双向交替通信（半单工），每个站点发送数据后都有可能发生碰撞，效率低下

1. 争用期：最先发送数据帧的站点，至多经过2t（两倍的端到端往返时延）就可以知道发送的数据帧是否发生了碰撞，这个2t成为争用期或碰撞窗口，经过争用期还没有检测到碰撞，才能肯定这个发送不会发生碰撞

## 802.11（无线局域网 WLAN）

CSMA/CA：解决隐蔽终端问题

2.4G：802.11、802.11b、802.11g

5G：802.11a

2.4G或5G：802.11n 

## IEEE 802.3 帧的长度计算

一个帧的长度从目的地址到校验和的长度：

​	目的地址+源地址+长度+数据+校验和

​	DA+SA+L+（LLC～PDU）+FCS=6+6+2（46～1500）+4=（64～1518）

即以太网最小帧长64，最大帧长1518

## 集线器-物理层

对接收到的信号进行再生整形放大，以扩展网络的功能，所以他具有在物理上扩展网络的功能，属于物理层设备

集线器可以把所有节点集中在以他为中心的节点上，不具备任何的智能，只是简单的把信号放大，采用广播方式发送因此会将数据转发给所有接口从而造成集线器连接的所有终端都在一个冲突域中

由集线器连接的局域网叫共享式局域网

## 交换机-数据链路层

每个端口都在同一个冲突域中，同属一个广播域

是一种基于MAC识别，能完成封包转发数据包功能的网络设备

以太网交换机利用“端口/MAC地址映射表”进行数据交换

交换机帧转发方式：

1. 直通式转发
2. 存储式转发
3. 碎片隔离式转发

交换机部署方式：

1. 级联
2. 堆叠
3. 混合

## 网络适配器的MAC地址

MAC地址也称为物理地址，是内置在网卡里的一组代码，共六字节，常用十二个六进制表示

## VLAN（虚拟局域网）IEEE 802.1Q

逻辑划分的局域网络，一个vlan中的成员看不到另一个vlan中的成员

交换机上可设置多个vlan，每个vlan构成独立的广播域

不同vlan间通信，只能通过路由器或三层交换机进行转发

## 虚拟局域网的优点

1. 降低网络广播风暴
2. 增强局域网的安全性
3. 降低成本
4. 简化了项目的管理和应用管理
5. 增加了网络连接的灵活性

## VLAN划分

1. 静态划分--基于端口（标准设备中，一个口不可以化为VLAN）
2. 动态划分--
   1. 基于MAC地址
   2. 基于网络层地址
   3. 基于协议
   4. 基于策略

## 交换机VLAN-接口类型

1. 接入链路，直接连接用户终端，隶属于一个VLAN。默认情况下，交换机的类型均为Access类型
2. 中继链路，交换机与交换机、交换机与路由器，不属于任何一个具体的VLAN
3. Hybrid，既可以连接用户终端，又可以连接其他交换机

## VLAN ID

不同的VLAN使用不同的VLAN ID，可配置的值为1～4094

## VTP协议功能

从一个控制点，维护整个VTP域中VLAN添加、删除和重命名。通过TRUNK链路广播传送VTP通告

三种模式：

1. 服务器模式
2. 客户机模式
3. 透明模式

## 二层环路危害：

1. 引发广播风暴
2. MAC地址表紊乱
3. 设备CPU利用率急剧上升，最终导致网络瘫痪

## 生成树协议STP

1. STP（生成树协议IEEE 802.1d）
2. RSTP（快速生成树协议IEEE 802.1w）
3. MSTP（多生成树协议IEEE 802.1s）

## 生成树协议基本概念STP

1. 桥ID：每一台运行STP协议的交换机都拥有唯一的桥ID，桥ID一共8位，包含16比特的桥优先级和48比特的桥MAC地址

2. 根桥：就是这棵树的树根，网络中拥有最小桥ID的交换机将成为根桥

   在比较桥ID时，首先比的是桥优先级，桥优先级的值最小的交换机将胜出为根桥；

   如果桥优先级相等，那么MAC地址最小的交换机将为交换机

   所有的二层设备，数字越小，优先级越高

   所有的三层设备，数字越大，优先级越高

3. 开销（cost）与根路径开销（root path cost），每一个激活了STP的接口都维护着一个cost值，接口的cost主要用于计算RPC，也就是到达根的开销

4. 接口ID：运行STP的交换机，使用接口ID来标识每一个接口，接口ID主要用于在特定场景下选举指定接口